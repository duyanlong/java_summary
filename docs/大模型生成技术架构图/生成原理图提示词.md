# 提示词
## DataX
### StarRocks StreamLoad执行过程提示词：
该项目是java语言，现需要根据源码解读从Engine类Main方法到StarRocksStreamLoadVisitor类的类调用过程，最好使用图例，请将以上内容梳理后输出到html文件中

生成文件：
engine_to_starrocksvisitor_flow.html

### DataX架构提示词
需求说明：
1.现在我需要使用DataX实现从mysql同步数据到Starrocks的逻辑，分析从Engine.main作为入口具体是如何执行的，执行原理和执行细节请用图例+文字进行说明赘述；
2.使用图例说明其中Job、TaskGroup、Task架构，以及Task如何承载Reader、Channel、Writer插件和其在运行过程中与Thread的映射关系，Thread数量，并说明程序与内存和cpu的关联关系；
3.说明DataX中并行度的运行机制和原理，以及并行度对运行过程中Thread的影响；
4.说明DataX中限流机制的运行机制和原理
5.在数据量过大时有哪些优化提效方式？
6.说明DataX除上述技术特性外还有哪些其他特性，并加以说明
格式要求：
要求将以上内容分析整理为html文件

生成文件：
datax_analysis_comprehensive.html


datax.py  执行命令：
java -server -Xms1g -Xmx1g -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/data/ds_datax/log -Xms1G -Xmx1G -Dloglevel=info -Dfile.encoding=UTF-8 -Dlogback.statusListenerClass=ch.qos.logback.core.status.NopStatusListener -Djava.security.egd=file:///dev/urandom -Ddatax.home=/data/ds_datax -Dlogback.configurationFile=/data/ds_datax/conf/logback.xml -classpath /data/ds_datax/lib/*:.  -Dlog.file.name=148_2909417_job_json -DHADOOP_USER_NAME=hdp-hr com.alibaba.datax.core.Engine -mode standalone -jobid -1 -job /data/dolphinscheduler/exec/process/6269030518848/15247568701632_2/320148/2909417/320148_2909417_job.json


### idata-qualities-task
需求说明：
根据根据下方 程序大致逻辑  ，结合代码分析程序执行流程；
根据分析出的逻辑构建 html 文件；
html文件名为： idata-qualities-task_logic.html
html文件中包括： 项目价值、产品特性能做什么、执行流程图、原理图、使用引擎的注意事项、适合场景

程序大致逻辑：
1. qualities-task 项目是根据质量前端配置的质量检查规则，执行质量检查的入口；
2. 入口类为  QaMain；
3. 程序有两种方式进入，入口一，是通过任务前后置熔断规则调用，通过 QaMain.exec 进入将执行的任务运行参数和工作流实例、任务实例等信息传入；该类规则根据检查结果，未通过时将问题数据落地、发送告警和报告、阻断任务执行；
4. 入口二 配置的规则为报告类规则，通过  QaMain.main执行， 该类规则根据检查结果未通过的进行问题数据落地、告警、发送报告等；
5. QaMain.exec中获取质量规则配置，检查配置是否合规，根据配置的执行引擎是单数据源的 JdbcEngineFactory，还是跨数据源对比的 FlinkEngineFactory，构建对应引擎；
6. 根据构建的引擎 Engine， 执行引擎中 init、 before、 run 、 close方法； 进行参数替换、执行sql构建、执行、检查结果、存储问题数据、回调规则结果监控接口；
7. 质量规则运行完成后，close调用 callback 后会将检查结果发送给接口 com.tme.it.api.outerapi.AcceptRunResultOuterController.handleRunResult
8. handleRunResult 中根据规则运行结果进行更新到DB用于报告展示，根据告警模板替换其中的参数，生成报告内容，通过企微机器人、工单、微信消息、邮件等方式进行告警
9. 告警内容包括：质量规则配置信息、运行对比信息、检查结果、问题数据对应展示报表页面等信息


## StarRocks
### FE&BE 项目架构与运行机制、spill、cache等
需求说明：
1. STARROCKS项目中，fe 项目是java语言，be 是C++语言；分析fe、be项目源码，整理出两大模块的启动路径和工作原理，将分析结果包含文字解析说明的同时可以使用流程图、时序图、架构图更加清晰表达
2. 将存算分离、存算一体的架构图也一并加上，参考： https://docs.starrocks.io/zh/docs/introduction/Architecture/    
   https://docs.starrocks.io/zh/docs/introduction/Features/
3. 将表、分区、分桶 bukets、tablet 的概念进行说明介绍，同时整理出几者直接的关系架构图； 以及读写数据的流程图； 以及使用和优化方式; 参考： https://zhuanlan.zhihu.com/p/687416857
4. 整理spill disk机制的优劣势和工作原理，如触发条件、清理机制、限制等
5. 整理cache（包括file cace和data cache）机制的优劣势和工作原理， 以及数据读入mem cache条件、数据写入data cache条件、读取cache顺序、清理条件、限制、 disk硬盘满了如何处理等
   参考： https://docs.starrocks.io/zh/docs/category/caching/
   格式要求： 要求将以上信息整理为html， 架构图、时序图、流程图等使用mermind语法生成图片


### SQL语句执行过程
请整理客户端提交sql到FE，FE进行sql解析、生成逻辑执行计划、CBO优化（包含哪些CBO优化规则）、生成物理执行计划、任务拆分下发、fragment、fragmentInstance、Pipline执行过程、查询结果汇总返回客户端等完整过程；尽量详细的进行说明描述，相关流程图、架构图、时序图可直接提现在html文件中。
参考资料：https://docs.starrocks.io/zh/docs/best_practices/query_tuning/query_planning/
要求格式：生成html文件格式，执行检查如mermaind语法错误时自动帮忙修复
需求描述：根据上面文字描述和starrocks官网执行计划章节介绍，进行分析，将sql执行详细过程尽可能详细的进行说明总结